# Flat Engine

**Flat Engine** — модульный игровой движок на C++ для создания клиент‑серверных онлайн‑игр в реальном времени. Репозиторий включает исходный код движка (директория `engine/`) и тестовую игру (директория `game/`), разделённую на клиента, сервер и общие модули. В текущей версии реализован базовый обмен сообщениями по TCP и UDP (Boost.Asio).

> **Статус:** проект находится в активной разработке и в данном виде используется как курсовой университетский проект. Исходный код закрыт и предназначен исключительно для образовательных целей.

## Содержание репозитория

| Путь           | Описание                                                    |
| -------------- | ----------------------------------------------------------- |
| `engine/`      | Исходники движка: подсистемы ядра, сети, логирования и т.д. |
| `game/client/` | Тестовый клиент, демонстрирующий работу движка.             |
| `game/server/` | Минимальный игровой сервер.                                 |
| `game/shared/` | Общие типы, протоколы и утилиты для клиента и сервера.      |
| `cmake/`       | CMake‑модули для поиска сторонних библиотек.                |

## Зависимости

Движок опирается на несколько внешних библиотек. Все они обнаруживаются через `find_package(...)` в CMake.

| Библиотека                          | Минимальная версия | Назначение                                 |
| ----------------------------------- | ------------------ | ------------------------------------------ |
| **Boost.Asio** (часть Boost)        | 1.82               | Асинхронная работа с TCP/UDP, таймеры      |
| **FlatBuffers**                     | 24.3               | Сериализация двоичных сообщений            |

<details>
<summary>Установка зависимостей</summary>

### Debian / Ubuntu

```bash
sudo apt update
# Базовые инструменты сборки
sudo apt install build-essential cmake git
# Boost
sudo apt install libboost-all-dev
# FlatBuffers (из репозиториев Ubuntu 24.04+)
sudo apt install flatbuffers-compiler libflatbuffers-dev
```

### Arch Linux / Manjaro

```bash
sudo pacman -S --needed base-devel cmake git
sudo pacman -S boost flatbuffers fmt spdlog
```

### macOS (Homebrew)

```bash
brew install cmake boost flatbuffers fmt spdlog
```

### Windows (vcpkg)

```powershell
# Предполагается, что vcpkg уже инициализирован в %VCPKG_ROOT%
./vcpkg install boost-asio flatbuffers fmt spdlog
```

> **Совет:** CMake‑файл `vcpkg.json` в корне репозитория фиксирует версии пакетов и позволяет собирать проект единой командой `cmake --toolchain=%VCPKG_ROOT%\scripts\buildsystems\vcpkg.cmake ..`.

</details>

## Сборка проекта

1. Установите все зависимости (см. выше).
2. Создайте директорию сборки и перейдите в неё:

   ```bash
   mkdir build && cd build
   ```
3. Сгенерируйте проект через CMake:

   ```bash
   cmake .. -DCMAKE_BUILD_TYPE=Release
   ```
4. Соберите:

   ```bash
   cmake --build . --config Release
   ```

После сборки появятся исполняемые файлы `server` и `client` в подпапках `game/`. Запуск:

```bash
# В одном терминале
./game/server/server
# В другом терминале
./game/client/client
```

## Планы развития

* **Сеть:** надёжная синхронизация множества игроков, репликация состояния.
* **Мультимедиа:** интеграция рендеринга (OpenGL / Vulkan) и звука.
* **Инструментарий:** редактор уровней, сборщик ассетов.
* **CI/CD:** GitHub Actions для мультиплатформенных сборок и тестов.

